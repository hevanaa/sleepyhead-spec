From 11230e371b37425f9ba82094e9f186b90306d287 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Johan=20Heikkil=C3=A4?= <johan.heikkila@gmail.com>
Date: Sun, 27 Nov 2016 18:30:29 +0200
Subject: [PATCH] Workaround for moc not detecting qt version

---
 sleepyhead/Graphs/gGraphView.h | 4 ----
 1 file changed, 4 deletions(-)

diff --git a/sleepyhead/Graphs/gGraphView.h b/sleepyhead/Graphs/gGraphView.h
index cdd01c2..3dc96ae 100644
--- a/sleepyhead/Graphs/gGraphView.h
+++ b/sleepyhead/Graphs/gGraphView.h
@@ -28,12 +28,8 @@
 #include <QPinchGesture>
 
 #ifndef BROKEN_OPENGL_BUILD
-#if QT_VERSION < QT_VERSION_CHECK(5,4,0)
-#include <QGLWidget>
-#else
 #include <QOpenGLWidget>
 #endif
-#endif
 
 #include <Graphs/gGraph.h>
 #include <Graphs/glcommon.h>
-- 
2.9.3

From 7670f889d45c56bfe16b11fec4ac513fbae96629 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Johan=20Heikkil=C3=A4?= <johan.heikkila@gmail.com>
Date: Sun, 27 Nov 2016 19:12:17 +0200
Subject: [PATCH 2/2] Workaround for moc not detecting qt version

---
 sleepyhead/Graphs/gGraphView.h | 2 --
 1 file changed, 2 deletions(-)

diff --git a/sleepyhead/Graphs/gGraphView.h b/sleepyhead/Graphs/gGraphView.h
index 3dc96ae..b5adf25 100644
--- a/sleepyhead/Graphs/gGraphView.h
+++ b/sleepyhead/Graphs/gGraphView.h
@@ -288,8 +288,6 @@ struct SelectionHistoryItem {
 class gGraphView
 #ifdef BROKEN_OPENGL_BUILD
         :public QWidget
-#elif QT_VERSION < QT_VERSION_CHECK(5,4,0)
-        :public QGLWidget
 #else
         :public QOpenGLWidget
 #endif
-- 
2.9.3

