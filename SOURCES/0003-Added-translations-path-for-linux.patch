From c6f7818c212f2161006c2bf3ece1cdc28185e763 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Johan=20Heikkil=C3=A4?= <johan.heikkila@gmail.com>
Date: Fri, 15 Jul 2016 21:58:21 +0300
Subject: [PATCH 3/6] Added translations path for linux


diff --git a/sleepyhead/translation.cpp b/sleepyhead/translation.cpp
index 24637e9..ecd3c13 100644
--- a/sleepyhead/translation.cpp
+++ b/sleepyhead/translation.cpp
@@ -42,8 +42,11 @@ void initTranslations(QSettings & settings) {
 
     QHash<QString, QString> langFiles;
 
-#ifdef Q_OS_MAC
+#if defined(Q_OS_MAC)
     QString transdir = QDir::cleanPath(QCoreApplication::applicationDirPath() + "/../Resources/Translations/");
+#elif defined(Q_OS_LINUX)
+    // hard coded for now. Would be better to use QStandardPaths::DataLocation and scan all directories for translations.
+    const QString transdir = "/usr/share/sleepyhead/translations/";
 #else
     const QString transdir = QCoreApplication::applicationDirPath() + "/Translations/";
 #endif
-- 
2.7.4

